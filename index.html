<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Retro Hub | Vanta Waves</title>
  <meta name="description" content="Classic games with a stunning Vanta Waves background." />
  <meta name="keywords" content="DOOM, Crazy Cattle, CLI, waves background" />
  <meta name="author" content="WaterReflection" />
  <meta name="theme-color" content="#000000" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery.terminal/css/jquery.terminal.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/jquery.terminal/js/jquery.terminal.min.js"></script>

  <!-- Vanta.js dependencies -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.waves.min.js"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      font-family: sans-serif;
      color: white;
      overflow: hidden;
    }
    #vanta-bg {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -1;
    }
    .content {
      position: relative;
      z-index: 1;
      width: 100%;
      padding: 2rem 1rem;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div id="vanta-bg"></div>

  <div class="content flex flex-col items-center">
    <div class="flex flex-wrap gap-4 mb-8">
      <button onclick="toggleGame('doom')" class="bg-red-600 hover:bg-red-800 px-4 py-2 rounded">Toggle DOOM</button>
      <button onclick="toggleGame('cattle')" class="bg-green-600 hover:bg-green-800 px-4 py-2 rounded">Toggle Crazy Cattle</button>
      <button onclick="toggleGame('terminal')" class="bg-gray-600 hover:bg-gray-800 px-4 py-2 rounded">Toggle Terminal</button>
    </div>

    <div id="doom" class="hidden w-full max-w-4xl mb-6">
      <p class="text-red-500">DOOM is temporarily disabled due to wasm loading issues.</p>
    </div>

    <div id="cattle" class="hidden">
      <iframe src="https://html-classic.itch.zone/html/13409992/index.html" width="640" height="480" class="rounded border border-gray-700"></iframe>
    </div>

    <div id="terminal" class="hidden w-full max-w-4xl h-[500px] mt-6 border border-gray-600 rounded">
      <div id="cli-game" class="h-full"></div>
    </div>

    <footer class="text-center text-gray-400 text-sm mt-10">
      <p>&copy; 2025 WaterReflection</p>
    </footer>
  </div>

  <script>
    VANTA.WAVES({
      el: "#vanta-bg",
      color: 0x111111,
      shininess: 50,
      waveHeight: 20,
      waveSpeed: 1,
      zoom: 1.25
    });

    $(function() {
      $('#cli-game').terminal({
        help: function() {
          this.echo('Commands: help, ls, dir, cd <dir>, pwd, whoami, date, clear, info, guess <num>');
        },
        ls: function() { this.echo('docs/  images/  readme.md'); },
        dir: function() { this.echo('docs\\  images\\  readme.md'); },
        cd: function(dir) { this.echo('Changed directory to ' + dir); },
        pwd: function() { this.echo('/home/guest'); },
        whoami: function() { this.echo('guest'); },
        date: function() { this.echo(new Date().toString()); },
        clear: function() { this.clear(); },
        info: function() { this.echo('WaterReflection CLI v1.0'); },
        guess: function(n) {
          const ans = Math.floor(Math.random() * 10);
          this.echo(n == ans ? 'Correct!' : 'Wrong, it was ' + ans);
        }
      }, {
        greetings: 'WaterReflection Shell â€” type "help"',
        name: 'wr_shell',
        height: 500,
        prompt: 'guest@wr:~$ '
      });
    });

    function toggleGame(id) {
      const el = document.getElementById(id);
      el.classList.toggle('hidden');
    }
  </script>
</body>
</html>
